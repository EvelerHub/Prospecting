<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Plans | PIO Backend</title>
    <!--Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
    <!-- Bootstrap 3.3.5 -->
    <link type="text/css" rel="stylesheet" href="../static/css/bootstrap.min.css"
          data-th-href="@{/css/bootstrap.min.css}" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"/>
    <link type="text/css" rel="stylesheet" href="../static/plugins/datatables/dataTables.bootstrap.css"
          data-th-href="@{/plugins/datatables/dataTables.bootstrap.css}"/>
    <!-- Theme style -->
    <link type="text/css" rel="stylesheet" href="../static/css/AdminLTE.min.css"
          data-th-href="@{/css/AdminLTE.min.css}"/>
    <link type="text/css" rel="stylesheet" href="../static/css/skins/_all-skins.min.css"
          data-th-href="@{/css/skins/_all-skins.min.css}" />

    <!--<script src="https://rawgit.com/Tropik3572/OpenUniversity/master/src/main/resources/static/plugins/jQuery/jQuery-2.1.4.min.js"></script>-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
     WARNING: Respond.js doesn't work if you view the page via file://
    [if lt IE 9]>-->
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <!--<![endif]-->
</head>
<body class="fixed hold-transition sidebar-mini skin-purple">
<div id="wrapper">
    <div data-th-replace="fragments/sb-admin :: top-nav"></div>
    <div data-th-replace="fragments/sb-admin :: vert-nav"></div>
    <div class="content-wrapper">
        <section class="content-header">
            <h1>Plans</h1>
        </section>
        <section class="content">

            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Browse plans</h3>
                            <div class="box-tools">
                                <a href="/dashboard/billing/plans/create" class="btn btn-primary btn-sm">
                                    <i class="fa fa-plus"></i>
                                    &nbsp;
                                    Create a Plan
                                </a>
                            </div>
                        </div>
                        <br/>
                        <div class="box-body">
                            <table id="plansTable" class="table table-bordered table-striped">
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Trial period</th>
                                    <th>Limits</th>
                                    <th>Published</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-th-each="plan : ${plans}">
                                    <td data-th-text="${plan.name}"></td>
                                    <td data-th-text="${plan.getPriceString()}"></td>
                                    <td data-th-text="${plan.getTrialString()}"></td>
                                    <td >
                                        <dl>
                                            <dt>Prospects</dt>
                                            <dd data-th-text="${plan.getLimitString()}"></dd>
                                            <dt>Searches</dt>
                                            <dd data-th-text="${plan.getSearchesString()}"></dd>
                                            <dt>Found emails</dt>
                                            <dd data-th-text="${plan.getFoundEmailsString()}"></dd>
                                        </dl>
                                    </td>
                                    <td data-th-text="${plan.getPublishedString()}"></td>
                                    <td data-th-text="${plan.createTime}"></td>
                                    <td>
                                        <a href="#" class="btn btn-flat btn-warning" data-th-href="@{/dashboard/billing/plans/edit(id=${plan.id})}">
                                            <span class="fa fa-pencil"></span>
                                            <span>Edit</span>
                                        </a>

                                        <a href="#" class="btn btn-flat btn-danger" data-th-href="@{/dashboard/billing/plans/delete(id=${plan.id})}">
                                            <span class="fa fa-trash"></span>
                                            <span>Delete</span>
                                        </a>

                                        <!--<button data-toggle="modal" data-target="#deleteModal" class="btn btn-flat btn-warning" >
                                            <span class="fa fa-trash"></span>
                                            <span>Delete</span>
                                        </button>
                                        <div class="modal" id="deleteModal">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="close">
                                                            <span aria-hidden="true">x</span>
                                                        </button>
                                                        <h4 class="modal-title">Delete</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <p>Delete?</p>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-flat pull-left" data-dismiss="modal">Cancel</button>
                                                        <a href="#" class="btn btn-flat btn-primary pull-right" data-th-href="@{/dashboard/billing/plans/delete(id=${plan.id})}">Delete</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="overlay">
                            <i class="fa fa-refresh fa-spin"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>              <!-- /#wrapper -->


<!--jQuery 2.1.4-->
<script src="../static/js/jQuery-2.1.4.min.js"
        data-th-src="@{/js/jQuery-2.1.4.min.js}"></script>
<!-- Bootstrap 3.3.5 -->
<script src="../static/js/bootstrap.min.js"
        data-th-src="@{/js/bootstrap.min.js}"></script>
<script src="../static/js/sb-admin.min.js"
        data-th-src="@{/js/sb-admin.js}"></script>
<!-- Bootstrap 3.3.5 -->
<script src="../static/js/jquery.metisMenu.js"
        data-th-src="@{/js/jquery.metisMenu.js}"></script>
<script src="../static/js/app.js"
        data-th-src="@{/js/app.js}"></script>
<script src="../static/plugins/jQueryUI/jquery-ui.min.js"
        data-th-src="@{/plugins/jQueryUI/jquery-ui.min.js}"></script>
<script src="../static/plugins/datatables/jquery.dataTables.min.js"
        data-th-src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
<script src="../static/plugins/datatables/dataTables.bootstrap.min.js"
        data-th-src="@{/plugins/datatables/dataTables.bootstrap.min.js}"></script>
<script src="../static/plugins/slimscroll/jquery.slimscroll.min.js"
        data-th-src="@{/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

<script>
    $(function () {
        $("#plansTable").DataTable();
    });

    jQuery(document).ready(function($) {
        $(window).load(function(){
            $('.overlay').fadeOut('slow',function(){$(this).remove();});
        });
    });
</script>

</body>
</html>